<!DOCTYPE html>
<html>
<head>
	<title>Mylene TD1 exo3</title>
	<meta charset="utf-8"/>
</head>
<body>
	<h3>TD1</h3>
	<h1>exo3</h1><br/>
	<br/>
	<p id="rAlpha">rotation alpha </p><br/>
	<p id="rBeta">rotation beta </p><br/>
	<p id="rGamma">rotation gamma </p><br/>
	<br/>
	<p id="aX">acceleration X </p><br/>
	<p id="aY">acceleration Y </p><br/>
	<p id="aZ">acceleration Z </p><br/>
	<br/>
	
</body>

<script>

	function success(pos) {
			var crd = pos.coords;

			// if (target.latitude === crd.latitude && target.longitude === crd.longitude) {
			// 	console.log('Bravo, vous avez atteint la cible');
			// 	navigator.geolocation.clearWatch(id);
			// }

			// target = {
			// 	latitude : 0,
			// 	longitude: 0
			// };
		}

		function error(err) {
			console.warn(`ERREUR (${err.code}): ${err.message}`);
		}

	navigator.geolocation.watchPosition(success,error); // position à surveiller

	window.addEventListener('deviceorientation', function(event) {
		console.log("alpha : " + event.alpha + "\n beta : " + event.beta + "\n gamma : " + event.gamma);
		
		let rBeta = document.getElementById('rBeta');		
		rBeta.innerHTML = "rotation Beta : " +event.beta;

		let rGamma = document.getElementById('rGamma');		
		rGamma.innerHTML = "rotation Gama : " +event.gamma;

		let rAlpha = document.getElementById('rAlpha');		
		rAlpha.innerHTML = "rotation Alpha : " +event.alpha;
	});
	
	window.addEventListener('devicemotion', function(event) {
  		console.log("accélération (sans la gravité) en m/s pour x : "+event.acceleration.x + "y : "+event.acceleration.y + "z : "+event.acceleration.z);
		
		let aX = document.getElementById('aX');		
		aX.innerHTML = "acceleration X : " +event.accelerationIncludingGravity.x;

		let aY = document.getElementById('aY');		
		aY.innerHTML = "acceleration Y : " +event.accelerationIncludingGravity.y;

		let aZ = document.getElementById('aZ');		
		aZ.innerHTML = "acceleration Z : " +event.accelerationIncludingGravity.z;

	});

	
</script>
</html>