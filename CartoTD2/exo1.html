<!DOCTYPE html>
<html>
<head>
	<title>Mylene TD2 exo1</title>
	<meta charset="utf-8"/>

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
	integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
	crossorigin=""/> <!-- leaflet-step1 -->
	<link rel="stylesheet" href="monStyle.css"/>

</head>
<body>
	<h3>TD2</h3>
	<p>exo1</p><br/>
	<div id="map"></div>
	
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
	integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
	crossorigin=""></script> <!-- leaflet-step2 -->

	<script>
		function success(pos) {
		var crd = pos.coords;
		console.log("Votre position actuelle est : " + crd.longitude + " (longitude) / " + crd.latitude + " (latitude)");
		
		var map = L.map('map').setView([crd.latitude, crd.longitude], 12);
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

		L.marker([43.7101728, 7.2619532]).addTo(map)
		.bindPopup('Nice')
		.openPopup();
		
		L.marker([crd.latitude, crd.longitude]).addTo(map)
		.bindPopup('vous Ãªtes ici')
		.openPopup();

		let carte = document.getElementById('map');		
		carte.append(map);
		}
		function error(err) {console.warn(`ERREUR (${err.code}): ${err.message}`);}
		navigator.geolocation.getCurrentPosition(success, error); 

		

		

		
	</script>
</body>
</html>